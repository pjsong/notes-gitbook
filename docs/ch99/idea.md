##手机心跳

发送“正常/异常/停止”心跳给服务器。

管理者可以设定心跳频率，浏览“正常/异常/停止”发送情况。


##人际关系谱
有一天，你会忘记她，她也会忘记你。
你希望自己记得曾和他在一个时空。
无论时空只要你记下了这一笔，
时空你我就永远不会再分开，
但是你必须要记得傲咪迪，
是他来提醒这个时空，
他会提醒你，
提醒他


自己 {
  父：
  母：
  兄：
  弟：
  姐：
  妹：
  妻：
  学：
  乡：
  地：
  网：
  它：
}

分答启示。专家视角。

##售货机
+ 主机使用x86工控主板如1037f，linux操作系统。
+ 本地docker提供mongodb，node应用服务，WCF设备操控服务。
+ 本地node应用职责
  + 本地设置/检测/初始化。
  + 后台管理平台公网通信接口。包括报告ip，上传配置/日志
  + 触发系统(docker)升级,mongodb, wcf, 自己。
+ 可远程登陆mongodb ui查看本地日志。
+ 每台本地主机对应termNo.pengel.cn预览应用。


###任务分解
####1， 本地界面

1. nginx 加 angular2.
2. 顶上logo，联系电话，倒计时。底下Tabs菜单-首页或帮助，游戏，娱乐，会员，购物。
3. 默认首页或帮助gif动画，或carousel图片。
4. 任意点击进入游戏。
  1. 后续要求手机号/qq号/微信号或扫描登陆。
5. 游戏列表选择一行一个，accordion模式，进入开始游戏。
6. 娱乐包括新闻/段子/搞笑视频/论坛文章/帮助/招商。
7. 购物两栏，左侧导航栈，右侧列表，销售区和出租区。popoverModal显示详情租售支付提示流程。
8. 收费会员区内共享在线资源。有影视会员，娱乐会员，购物会员，游戏会员。

######优先顺序
+ 购物，预定，供货，爆料，读料，会员


####2,  本地容器
1. webapp，界面通过jsonp向app获取数据，rest向data-app提交数据, 调用远程容器获取支付码
2. dataapp, 处理webapp操作， 处理本地数据库, 调用wcf api。
3. wcf，设备操控。
4. 与远程数据集成spring integration， 同时获取本机ip, 状态设置，根据状态设置，启动本地脚本如重启，job。
######优先顺序

####3, 本地后台管理
+ 定时更新服务端ip
+ 重启功能
+ 考虑客户端使用chrome app
+ 远程后台ssh/接口启停本地主机
+ 远程后台ssh/接口获取本地状态与数据
+ 本地启动时自动更新一切软件。
+ 系统运行故障写入机器状态，
+ 商品管理，
  + 终端编号/类型/负责人单位/联系电话/安装地址/货道类型/货道数量
  + 货道/商品/数量
  + 价格/图片地址/二维码地址/描述/

####4, 本地引导程序
  + 本地启动时连接后台，带上编号。定时心跳读取机器状态并发送。远程后台根据编号更新IP地址和运行状态
  + node检查本地应用版本自动更新。
  + 启动软件。
  + 本地开通虚拟服务器ssh

####5, 远程会员后台报表/状态检查/blog
+ 订单汇总
+ 商品汇总
+ 售货机状态汇总
+ 
####6, 远程会员终端后台界面
+ 设备浏览，当前ip，状态，操作，最近运行日志
+ 准生产运行检查
+ 商品信息
+ 会员信息
+ 订单信息
+ 支付信息



##过程
1. webapp提供分类，商品数据给ui listpage。
2. detailpage确定数量,支付方式，webapp显示支付碼或发送给wcf。
3. wcf返回支付过程，出货。
4. webapp生成订单。
5. integration远程更新商品数量，订单信息。

##步骤
1. ui listpage分类，(价格，详情，购买->支付方式)，分页，
2. detailpage(图片，详细说明，购买->支付方式，返回)，
3. webapp实现分类，商品数据，扫码支付方式申请。
4. wcf启动
3. 条码或现金支付界面。